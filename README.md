# 数据库

## actor表
角色表记录了角色的名字和形容，有以下字段：
- id：角色的ID
- name：角色的姓名
- description：角色能力的描述
- img：角色立绘的图片存放url

角色ID对照表：

| ID | Name |
|--|--|
|0|主持人|
|1|警长|
|2|狼人|
|3|预言家|
|4|女巫|
|5|猎人|
|6|丘比特|
|7|小女孩|
|8|普通村民|
|9|守卫|

## room表
用来记录房间信息，有以下字段：
- id：房间的ID
- player_num：玩家的数量
- player_actor：玩家的角色池，是一个数组，每一局结束后，都会打乱顺序重新排序
- player_join：玩家加入游戏的序列，用于检查是否加入了相同的玩家编号
- policemen：本轮游戏角色为警察的玩家编号


# 业务逻辑

## 1.房主设定游玩参数
- 可以使用预设参数
  
  预设参数对照表：

  | 人数 | 参考角色 |
  |--|--|
  |6人|1狼人、1预言家、1丘比特、1女巫、1村民、1主持|
  |7人|1狼人、1预言家、1丘比特、1女巫、2村民、1主持|
  |8人|2狼人、1预言家、1丘比特、1女巫、1村民、1猎人、1主持|
  |9人|2狼人、1预言家、1丘比特、1女巫、2村民、1猎人、1主持|
  |10人|2狼人、1预言家、1丘比特、1女巫、2村民、1猎人、1守卫、1主持|
  |11人|2狼人、1预言家、1丘比特、1女巫、3村民、1猎人、1守卫、1主持|
  |12人|3狼人、1预言家、1丘比特、1女巫、2村民、1猎人、1守卫、1小女孩、1主持|

- 可以使用自定义参数
- 设置完参数后生成一个房间
  - 数据库中的 `room` 表生成一条记录
  - 将设定好的角色按随机顺序存放到 `room` 表中的 `player_actor` 字段
  - 返回一个房间ID给房主，其他玩家输入房间ID进入游戏房间
  - 房主点击“下一步”后将率先获得身份牌，房主的玩家编号是[1]

## 2.玩家进入房间
- 输入房间ID和个人编号
- 进入房间后将获得一个身份牌
- 开始游戏
- 游戏结束后，点击菜单按钮，选择结束游戏


## 颜色
蓝：#26A2FF
红：#EF4F4F